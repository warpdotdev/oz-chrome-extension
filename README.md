# oz-chrome-extension

`oz-chrome-extension` is a Path-B-first Chrome extension project for user-authored site customization scripts generated by Oz cloud agents.

## MVP shape

- User enters an Oz API key in extension settings.
- User prompts customization while on a site.
- Extension sends prompt + page context to Oz production API.
- Extension polls run status and reads PR URL from structured `PULL_REQUEST` artifacts in `RunItem.artifacts`.
- Extension fetches generated script from PR head files, validates, stores as a draft, then registers via `chrome.userScripts` after explicit user enable.

## Monorepo packages

- `packages/extension`: Manifest V3 extension shell.
- `packages/oz-client`: Oz production API client and run/artifact helpers.
- `packages/oz-runtime`: Shared runtime logic for script import/validation/lifecycle.
- `packages/shared`: Shared contracts and primitives.

## Important constraints

- Use production Oz endpoints: `https://app.warp.dev/api/v1`.
- Use `oz` CLI for command-line Oz workflows.
- Do not parse run summary text for PR URLs; read `RunItem.artifacts` only.

## Future

The shared runtime package is intended to support a later embeddable `oz-js` library for site authors.
